<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core">
    <p:panelMenu>
        <p:submenu label="House" icon="fa fa-home">
            <p:submenu label="#{currentUserHomesBean.currentHome.name}" icon="fa fa-home">
                <c:forEach items="#{currentUserHomesBean.userHomes}" var="home">
                    <p:menuitem value="#{home.name}" update="centerForm,header,menu" ajax="true">
                        <f:setPropertyActionListener value="#{home}" target="#{currentUserHomesBean.currentHome}"/>
                    </p:menuitem>
                </c:forEach>
            </p:submenu>
            <p:menuitem value="House settings" icon="fa fa-gear"
                        action="#{navigationBean.setPageName('home/settings')}"
                        update="centerForm">
            </p:menuitem>
            <p:separator/>
            <p:menuitem value="Add home..." icon="fa fa-plus"
                        action="#{navigationBean.setPageName('home/form')}"
                        update="centerForm">
                <f:setPropertyActionListener value="#{homeFormBean.defaultHomeValue}" target="#{homeFormBean.home}"/>
                <f:setPropertyActionListener value="#{true}" target="#{homeFormBean.creatingMode}"/>
            </p:menuitem>
        </p:submenu>
        <p:submenu label="Configure">
            <p:menuitem value="Policy"
                        url="#"/>
            <p:menuitem value="Specification"
                        url="#"/>
        </p:submenu>
        <p:submenu label="Catalog 2">
            <p:menuitem value="Graph"
                        action="#{navigationBean.setPageName('graph')}"
                        update="centerForm"/>
        </p:submenu>
    </p:panelMenu>
</ui:composition>


